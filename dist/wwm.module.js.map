{"version":3,"file":"wwm.module.js","sources":["../src/utils/Wallpaper.js","../src/core/events/WWMEvent.js","../src/core/events/EventHandler.js","../node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuid/dist/esm-browser/bytesToUuid.js","../node_modules/uuid/dist/esm-browser/v4.js","../src/core/events/types/ProgramEvent.js","../src/core/Program.js","../src/core/events/types/WallpaperEvent.js","../src/core/events/types/ScreenEvent.js","../node_modules/rollup-plugin-node-globals/src/global.js","../node_modules/process-es6/browser.js","../node_modules/nanoid/index.browser.js","../src/core/events/types/WindowEvent.js","../src/core/Window.js","../src/programs/WWMWallpaper.js","../src/index.js","../src/core/WWM.js","../src/core/events/EventEmitter.js","../src/core/events/EventListener.js"],"sourcesContent":["\r\n/**\r\n * This class is used to manage and validate Wallpaper for wwm\r\n */\r\nexport default class Wallpaper {\r\n\r\n\t/**\r\n\t * @param {string} type \r\n\t * @param {string} value \r\n\t */\r\n\tconstructor(type, value) {\r\n\t\tthis.type = type;\r\n\t\tthis.value = value;\r\n\t}\r\n\r\n\t/**\r\n\t * Validate a Wallpaper object\r\n\t * @param {Wallpaper} wp Wallpaper object to validate\r\n\t * @returns {Boolean}\r\n\t */\r\n\tstatic validate(wp) {\r\n\t\tif (Wallpaper.supported.indexOf(wp.type) > -1) {\r\n\t\t\tif (wp.type === \"image\") {\r\n\t\t\t\twp.value = `url(${wp.value})`;\r\n\t\t\t}\r\n\t\t\treturn true; \r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * List of supported wallpaper types\r\n\t */\r\n\tstatic supported = [\r\n\t\t\"image\",\r\n\t\t\"color\",\r\n\t];\r\n}","\r\n/**\r\n * Default WWM Event type\r\n */\r\nexport default class WWMEvent {\r\n\r\n\t/**\r\n\t * @param {string} name \r\n\t */\r\n\tconstructor(name) {\r\n\t\tthis.name = name;\r\n\t}\r\n}","import WWMEvent from './WWMEvent';\r\n\r\n/**\r\n * The EventHandler is a combination of an EventEmitter and an EventListener, it can emit and receive events.\r\n */\r\nexport default class EventHandler {\r\n\t\r\n\t/**\r\n\t * @param {EventListener[]|EventHandler[]} listeners \r\n\t */\r\n\tconstructor(listeners) {\r\n\t\tthis.listeners = listeners || [];\r\n\t\tthis.eventsCallbacks = {};\r\n\t}\r\n\r\n\t/**\r\n\t * Emit an event to listeners\r\n\t * @param {WWMEvent} event \r\n\t */\r\n\temit(event) {\r\n\t\tfor(let i = 0, len = this.listeners.length; i < len; ++i) {\r\n\t\t\tthis.listeners[i].trigger(event);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Register a callback to an event\r\n\t * @param {string} name \r\n\t * @param {Function} callback \r\n\t */\r\n\ton(name, callback) {\r\n\t\tif (!this.eventsCallbacks[name]) this.eventsCallbacks[name] = {};\r\n\t\tthis.eventsCallbacks[name].on = callback;\r\n\t}\r\n\r\n\t/**\r\n\t * Register a callback that is triggered only the first time a specific event is received\r\n\t * @param {string} name \r\n\t * @param {Function} callback \r\n\t */\r\n\tonce(name, callback) {\r\n\t\tif (!this.eventsCallbacks[name]) this.eventsCallbacks[name] = {};\r\n\t\tthis.eventsCallbacks[name].once = callback;\r\n\t}\r\n\r\n\t/**\r\n\t * Triggers callbacks for a specific event\r\n\t * @param {WWMEvent} event \r\n\t */\r\n\ttrigger(event) {\r\n\t\tif (this.eventsCallbacks[event.name] && this.eventsCallbacks[event.name].once) {\r\n\t\t\tthis.eventsCallbacks[event.name].once(event);\r\n\t\t\tthis.eventsCallbacks[event.name].once = null;\r\n\t\t}\r\n\t\tif (this.eventsCallbacks[event.name] && this.eventsCallbacks[event.name].on)\r\n\t\t\tthis.eventsCallbacks[event.name].on(event);\r\n\t}\r\n\r\n\t/**\r\n\t * Subscribe a listener to the emitter\r\n\t * @param {EventListener|EventHandler} listener \r\n\t */\r\n\tsubscribe(listener) {\r\n\t\tif (this.listeners.indexOf(listener) <= -1) {\r\n\t\t\tthis.listeners.push(listener);\r\n\t\t}\r\n\t}\r\n}","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex; // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n\n  return (bth[buf[i + 0]] + bth[buf[i + 1]] + bth[buf[i + 2]] + bth[buf[i + 3]] + '-' + bth[buf[i + 4]] + bth[buf[i + 5]] + '-' + bth[buf[i + 6]] + bth[buf[i + 7]] + '-' + bth[buf[i + 8]] + bth[buf[i + 9]] + '-' + bth[buf[i + 10]] + bth[buf[i + 11]] + bth[buf[i + 12]] + bth[buf[i + 13]] + bth[buf[i + 14]] + bth[buf[i + 15]]).toLowerCase();\n}\n\nexport default bytesToUuid;","import rng from './rng.js';\nimport bytesToUuid from './bytesToUuid.js';\n\nfunction v4(options, buf, offset) {\n  if (typeof options === 'string') {\n    buf = options === 'binary' ? new Uint8Array(16) : null;\n    options = null;\n  }\n\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    var start = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[start + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return bytesToUuid(rnds);\n}\n\nexport default v4;","import Program from '../../Program';\r\nimport WWMEvent from '../WWMEvent';\r\n\r\n/**\r\n * Program Event Type\r\n */\r\nexport default class ProgramEvent extends WWMEvent {\r\n\r\n\t/**\r\n\t * @param {string} name \r\n\t * @param {Program} program \r\n\t */\r\n\tconstructor(name, program) {\r\n\t\tsuper(name);\r\n\t\tthis.program = program;\r\n\t}\r\n}","import { v4 as uuidv4 } from 'uuid';\r\nimport EventHandler from './events/EventHandler';\r\nimport WWM from './WWM';\r\nimport ProgramEvent from './events/types/ProgramEvent';\r\n\r\n/**\r\n * Program class\r\n */\r\nexport default class Program extends EventHandler {\r\n\r\n\t/**\r\n\t * @param {WWM} parent \r\n\t */\r\n\tconstructor(parent) {\r\n\t\t// Setup event emitting to self and WWM instance\r\n\t\tsuper();\r\n\t\tthis.subscribe(this);\r\n\t\tthis.subscribe(parent);\r\n\r\n\t\tthis.id = uuidv4();\r\n\t\tthis.name = \"Program\";\r\n\t\tthis.parent = parent;\r\n\t\tthis.args = [];\r\n\r\n\t\tthis.events();\r\n\t}\r\n\r\n\t/**\r\n\t * Execute the program on the parent WWM instance\r\n\t * @param  {...any} args Argument list that is passed to the program\r\n\t */\r\n\texec(...args) {\r\n\t\tthis.args = args;\r\n\t\tthis.emit(new ProgramEvent(\"ProgramExec\", this));\r\n\t}\r\n\r\n\t/**\r\n\t * Utility function to overide in childs, hosts events receiving callback definitions\r\n\t */\r\n\tevents() {}\r\n\r\n\t/**\r\n\t * Main function of the program, is called on program execution\r\n\t */\r\n\tmain() {\r\n\t\tthis.end();\r\n\t}\r\n\r\n\t/**\r\n\t * Emits a \"ProgramEnd\" event to the WWM instance to kill the program, call this function to end a program exectution\r\n\t */\r\n\tend() {\r\n\t\tthis.emit(new ProgramEvent(\"ProgramEnd\", this));\r\n\t}\r\n}","import Wallpaper from '../../../utils/Wallpaper';\r\nimport WWMEvent from '../WWMEvent';\r\n\r\n/**\r\n * Wallpaper Event Type\r\n */\r\nexport default class WallpaperEvent extends WWMEvent {\r\n\r\n\t/**\r\n\t * @param {string} name \r\n\t * @param {Wallpaper} wallpaper \r\n\t */\r\n\tconstructor(name, wallpaper) {\r\n\t\tsuper(name);\r\n\t\tthis.wallpaper = wallpaper;\r\n\t}\r\n}","import WWMEvent from '../WWMEvent';\r\n\r\n/**\r\n * Screen Event\r\n */\r\nexport default class WallpaperEvent extends WWMEvent {\r\n\r\n\t/**\r\n\t * @param {string} name\r\n\t * @param {HTMLElement} screen HTMLElement that represents the screen of a WWM instance (WWM.container in most cases)\r\n\t */\r\n\tconstructor(name, screen) {\r\n\t\tsuper(name);\r\n\r\n\t\tconst screenStyle = getComputedStyle(screen);\r\n\t\tthis.screen = {\r\n\t\t\telement: screen,\r\n\t\t\twidth: screenStyle.width,\r\n\t\t\theight: screenStyle.height,\r\n\t\t};\r\n\t}\r\n}","export default (typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {});\n","// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nexport function nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nexport var title = 'browser';\nexport var platform = 'browser';\nexport var browser = true;\nexport var env = {};\nexport var argv = [];\nexport var version = ''; // empty string to avoid regexp issues\nexport var versions = {};\nexport var release = {};\nexport var config = {};\n\nfunction noop() {}\n\nexport var on = noop;\nexport var addListener = noop;\nexport var once = noop;\nexport var off = noop;\nexport var removeListener = noop;\nexport var removeAllListeners = noop;\nexport var emit = noop;\n\nexport function binding(name) {\n    throw new Error('process.binding is not supported');\n}\n\nexport function cwd () { return '/' }\nexport function chdir (dir) {\n    throw new Error('process.chdir is not supported');\n};\nexport function umask() { return 0; }\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global.performance || {}\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nexport function hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance)*1e-3\n  var seconds = Math.floor(clocktime)\n  var nanoseconds = Math.floor((clocktime%1)*1e9)\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0]\n    nanoseconds = nanoseconds - previousTimestamp[1]\n    if (nanoseconds<0) {\n      seconds--\n      nanoseconds += 1e9\n    }\n  }\n  return [seconds,nanoseconds]\n}\n\nvar startTime = new Date();\nexport function uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\n\nexport default {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n","// This file replaces `index.js` in bundlers like webpack or Rollup,\n// according to `browser` config in `package.json`.\n\nimport { urlAlphabet } from './url-alphabet/index.js'\n\nif (process.env.NODE_ENV !== 'production') {\n  // All bundlers will remove this block in the production bundle.\n  if (\n    typeof navigator !== 'undefined' &&\n    navigator.product === 'ReactNative' &&\n    typeof crypto === 'undefined'\n  ) {\n    throw new Error(\n      'React Native does not have a built-in secure random generator. ' +\n        'If you don’t need unpredictable IDs use `nanoid/non-secure`. ' +\n        'For secure IDs, import `react-native-get-random-values` ' +\n        'before Nano ID. If you use Expo, install `expo-random` ' +\n        'and use `nanoid/async`.'\n    )\n  }\n  if (typeof msCrypto !== 'undefined' && typeof crypto === 'undefined') {\n    throw new Error(\n      'Add `if (!window.crypto) window.crypto = window.msCrypto` ' +\n        'before Nano ID to fix IE 11 support'\n    )\n  }\n  if (typeof crypto === 'undefined') {\n    throw new Error(\n      'Your browser does not have secure random generator. ' +\n        'If you don’t need unpredictable IDs, you can use nanoid/non-secure.'\n    )\n  }\n}\n\nlet random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\n\nlet customRandom = (alphabet, size, getRandom) => {\n  // First, a bitmask is necessary to generate the ID. The bitmask makes bytes\n  // values closer to the alphabet size. The bitmask calculates the closest\n  // `2^31 - 1` number, which exceeds the alphabet size.\n  // For example, the bitmask for the alphabet size 30 is 31 (00011111).\n  // `Math.clz32` is not used, because it is not available in browsers.\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  // Though, the bitmask solution is not perfect since the bytes exceeding\n  // the alphabet size are refused. Therefore, to reliably generate the ID,\n  // the random bytes redundancy has to be satisfied.\n\n  // Note: every hardware random generator call is performance expensive,\n  // because the system call for entropy collection takes a lot of time.\n  // So, to avoid additional system calls, extra bytes are requested in advance.\n\n  // Next, a step determines how many random bytes to generate.\n  // The number of random bytes gets decided upon the ID size, mask,\n  // alphabet size, and magic number 1.6 (using 1.6 peaks at performance\n  // according to benchmarks).\n\n  // `-~f => Math.ceil(f)` if f is a float\n  // `-~i => i + 1` if i is an integer\n  let step = -~((1.6 * mask * size) / alphabet.length)\n\n  return () => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      // A compact alternative for `for (var i = 0; i < step; i++)`.\n      let j = step\n      while (j--) {\n        // Adding `|| ''` refuses a random byte that exceeds the alphabet size.\n        id += alphabet[bytes[j] & mask] || ''\n        // `id.length + 1 === size` is a more compact option.\n        if (id.length === +size) return id\n      }\n    }\n  }\n}\n\nlet customAlphabet = (alphabet, size) => customRandom(alphabet, size, random)\n\nlet nanoid = (size = 21) => {\n  let id = ''\n  let bytes = crypto.getRandomValues(new Uint8Array(size))\n\n  // A compact alternative for `for (var i = 0; i < step; i++)`.\n  while (size--) {\n    // It is incorrect to use bytes exceeding the alphabet size.\n    // The following mask reduces the random byte in the 0-255 value\n    // range to the 0-63 value range. Therefore, adding hacks, such\n    // as empty string fallback or magic numbers, is unneccessary because\n    // the bitmask trims bytes down to the alphabet size.\n    let byte = bytes[size] & 63\n    if (byte < 36) {\n      // `0-9a-z`\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      // `A-Z`\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte < 63) {\n      id += '_'\n    } else {\n      id += '-'\n    }\n  }\n  return id\n}\n\nexport { nanoid, customAlphabet, customRandom, urlAlphabet, random }\n","import WWMEvent from '../WWMEvent';\r\nimport Window from '../../Window';\r\n\r\n/**\r\n * Screen Event\r\n */\r\nexport default class WindowEvent extends WWMEvent {\r\n\r\n\t/**\r\n\t * @param {string} name\r\n\t * @param {Window} window Window that is emitting the event\r\n\t */\r\n\tconstructor(name, window) {\r\n\t\tsuper(name);\r\n\t\tthis.window = window\r\n\t}\r\n}","import { nanoid } from 'nanoid'\r\nimport EventHandler from './events/EventHandler';\r\nimport Program from './Program';\r\nimport WWM from './WWM';\r\n\r\n// Event types:\r\nimport WindowEvent from './events/types/WindowEvent';\r\n\r\n/**\r\n * Window class\r\n */\r\nexport default class Window extends EventHandler {\r\n\t/**\r\n\t * @param {Program} program \r\n\t * @param {object} options \r\n\t */\r\n\tconstructor(program, options) {\r\n\t\tsuper();\r\n\t\tthis.subscribe(this);\r\n\r\n\t\tthis.program = program;\r\n\t\tthis.id = this.program.name + \"-\" + nanoid();\r\n\r\n\t\tconst defaults = {\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\twidth: 100,\r\n\t\t\theight: 100,\r\n\t\t\ttitlebar: false,\r\n\t\t\tvisible: true,\r\n\t\t};\r\n\t\toptions = Object.assign({}, defaults, options);\r\n\r\n\t\tthis.x = options.x;\r\n\t\tthis.y = options.y;\r\n\t\tthis.width = options.width;\r\n\t\tthis.height = options.height;\r\n\t\tthis.visible = options.visible;\r\n\t\tthis.style = {};\r\n\r\n\t\t// Creating Window HTML Element and adding it as a child to the WWM instace container\r\n\t\tthis.element = document.createElement(\"div\");\r\n\t\tthis.program.parent.container.appendChild(this.element);\r\n\r\n\t\t// Setup default style of the window\r\n\t\tthis.__setupStyle();\r\n\r\n\t\t// Setup core and custom events of the window\r\n\t\tthis.__setupEvents();\r\n\t\tthis.events();\r\n\t}\r\n\r\n\t/**\r\n\t * Intern function of the windows class. Called by the constructor to setup the default style of a window\r\n\t */\r\n\t__setupStyle() {\r\n\t\tthis.element.classList.add('WWM-Window');\r\n\t\tthis.element.id = this.id;\r\n\r\n\t\tthis.setStyles({\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: `${this.y}px`,\r\n\t\t\tleft: `${this.x}px`,\r\n\t\t\twidth: `${this.width}`,\r\n\t\t\theight: `${this.height}`,\r\n\t\t\tvisible: `${this.visible}`,\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Setup various core events on a Window instance\r\n\t */\r\n\t__setupEvents() {}\r\n\r\n\t/**\r\n\t * Utility function to overide in childs, hosts events receiving callback definitions\r\n\t */\r\n\tevents() {}\r\n\r\n\t/**\r\n\t * Define the innerHTML of the window HTMLElement, a template string can be given for templating\r\n\t * @param {string} template\r\n\t */\r\n\trender(template) {\r\n\t\tthis.element.innerHTML = template;\r\n\t}\r\n\r\n\t/**\r\n\t * Resize the window and send a \"WindowResize\" event\r\n\t * @param {string} width Width of the window after resize. Need a unit (e.g. 100px)\r\n\t * @param {string} height Height of the window after resize. Need a unit (e.g. 100px)\r\n\t */\r\n\tresize(width, height) {\r\n\t\tthis.width = width;\r\n\t\tthis.height = height;\r\n\t\tthis.setStyle('width', this.width);\r\n\t\tthis.setStyle('height', this.height);\r\n\t\tthis.emit(new WindowEvent(\"WindowResize\", this));\r\n\t}\r\n\r\n\t/**\r\n\t * Set a CSS property for the window\r\n\t * @param {string} property \r\n\t * @param {*} value \r\n\t */\r\n\tsetStyle(property, value) {\r\n\t\tthis.element.style[property] = value;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Set CSS properties for the window\r\n\t * @param {Object} rules An object that describes the CSS rules to apply\r\n\t */\r\n\tsetStyles(rules) {\r\n\t\tfor (let [property, value] of Object.entries(rules)) {\r\n\t\t\tthis.element.style[property] = value;\r\n\t\t}\r\n\t}\r\n}","import Program from '../core/Program';\r\nimport Window from '../core/Window';\r\nimport WWM from '../core/WWM';\r\nimport Wallpaper from '../utils/Wallpaper';\r\n\r\n// Event types:\r\nimport WallpaperEvent from '../core/events/types/WallpaperEvent';\r\n\r\nexport default class WWMWallpaper extends Program {\r\n\r\n\t/**\r\n\t * @param {WWM} parent \r\n\t */\r\n\tconstructor(parent) {\r\n\t\tsuper(parent);\r\n\t\tthis.name = \"WWMWallpaper\";\r\n\t}\r\n\r\n\tmain() {\r\n\r\n\t\tlet wpType = this.args[0];\r\n\t\tlet wpValue = this.args[1];\r\n\r\n\t\tthis.parent.subscribe(this);\r\n\t\tconst parentStyle = getComputedStyle(this.parent.container);\r\n\r\n\t\tthis.mainWindow = new Window(this, {\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\twidth: parentStyle.width,\r\n\t\t\theight: parentStyle.height,\r\n\t\t})\r\n\r\n\t\tthis.mainWindow.setStyle(\"background-size\", \"cover\");\r\n\t\tthis.mainWindow.setStyle(\"background-position\", \"center center\");\r\n\r\n\t\tthis.setWallpaper(wpType, wpValue);\r\n\t}\r\n\r\n\tevents() {\r\n\t\tthis.on('ScreenResize', e => {\r\n\t\t\tthis.mainWindow.resize(e.screen.width, e.screen.height);\r\n\t\t});\r\n\t\t\r\n\t\tthis.on('WallpaperChange', e => {\r\n\t\t\tswitch (e.wallpaper.type) {\r\n\t\t\t\tcase \"image\":\r\n\t\t\t\t\tthis.mainWindow.setStyle(\"background-image\", e.wallpaper.value);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\t\tcase \"color\":\r\n\t\t\t\t\tthis.mainWindow.setStyle(\"background-color\", e.wallpaper.value);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Set a wallpaper to the WWM instance\r\n\t * @param {string} type \r\n\t * @param {string} value \r\n\t */\r\n\tsetWallpaper(type, value) {\r\n\t\tlet wp = new Wallpaper(type, value);\r\n\t\tif (Wallpaper.validate(wp)) {\r\n\t\t\tthis.emit(new WallpaperEvent('WallpaperChange', wp));\r\n\t\t}\r\n\t}\r\n}","\n// Core imports:\nimport WWM from './core/WWM';\nimport Program from './core/Program';\nimport Window from './core/Window';\n\n// Event Handling:\nimport EventEmitter from './core/events/EventEmitter';\nimport EventListener from './core/events/EventListener';\nimport EventHandler from './core/events/EventHandler';\n\n// Event types:\nimport WWMEvent from './core/events/WWMEvent';\nimport WallpaperEvent from './core/events/types/WallpaperEvent';\nimport ProgramEvent from './core/events/types/ProgramEvent';\nimport ScreenEvent from './core/events/types/ScreenEvent';\nimport WindowEvent from './core/events/types/WindowEvent';\n\n// Utils imports:\nimport Wallpaper from './utils/Wallpaper';\n\n// Core Programs:\nimport WWMWallpaper from './programs/WWMWallpaper';\n\nexport default {\n\t// Core:\n\tWWM,\n\tProgram,\n\tWindow,\n\n\t// Event Handling:\n\tEventEmitter,\n\tEventListener,\n\tEventHandler,\n\n\t// Event types:\n\tWWMEvent,\n\tWallpaperEvent,\n\tProgramEvent,\n\tScreenEvent,\n\tWindowEvent,\n\n\t// Utils:\n\tWallpaper,\n\n\t// Programs:\n\tWWMWallpaper,\n}","import Wallpaper from '../utils/Wallpaper';\r\nimport EventHandler from '../core/events/EventHandler';\r\nimport Program from './Program';\r\n\r\n// Event types:\r\nimport WallpaperEvent from './events/types/WallpaperEvent';\r\nimport ProgramEvent from './events/types/ProgramEvent';\r\nimport ScreenEvent from './events/types/ScreenEvent';\r\n\r\n// Programs:\r\nimport WWMWallpaper from '../programs/WWMWallpaper';\r\n\r\n/**\r\n * Main system class for window managing\r\n */\r\nexport default class WWM extends EventHandler {\r\n\r\n\t/**\r\n\t * @param {Object} options \r\n\t */\r\n\tconstructor(options) {\r\n\t\t// Setting up events listening/emitting:\r\n\t\tsuper();\r\n\t\tthis.subscribe(this);\r\n\r\n\t\t// Setting up options with defaults:\r\n\t\tconst defaults = {\r\n\t\t\ttiling: \"floating\",\r\n\t\t\tcontainer: null,\r\n\t\t};\r\n\t\t/** @type {Object} */\r\n\t\tthis.options = Object.assign({}, defaults, options);\r\n\r\n\t\t/** @type {HTMLElement} */\r\n\t\tthis.container = (this.options.container) ? document.querySelector(this.options.container) : document.body;\r\n\t\tthis.container.style.position = \"relative\";\r\n\t\tthis.container.style.overflow = \"hidden\";\r\n\r\n\t\tthis.programs = [];\r\n\r\n\t\tthis.__setupEvents();\r\n\r\n\t\tthis.__setupPrograms();\r\n\t}\r\n\r\n\t/**\r\n\t * Setup various core events on a WWM instance\r\n\t */\r\n\t__setupEvents() {\r\n\t\t// Core Events:\r\n\t\tthis.on(\"ProgramExec\", e => {\r\n\t\t\tthis.programs.push(e.program);\r\n\t\t\te.program.main();\r\n\t\t});\r\n\r\n\t\t// DOM Window Events:\r\n\t\twindow.addEventListener('resize', ()=> {\r\n\t\t\tthis.emit(new ScreenEvent(\"ScreenResize\", this.container));\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Execute core programs of the WWM instance\r\n\t */\r\n\t__setupPrograms() {\r\n\t\tthis.exec(new WWMWallpaper(this), \"color\", \"#000000\");\r\n\t}\r\n\r\n\t/**\r\n\t * Execute a program given in parameter. Use this function to execute a program in your WWM instance.\r\n\t * @param {Program} program \r\n\t */\r\n\texec(program, ...args) {\r\n\t\tprogram.parent = this;\r\n\t\tprogram.subscribe(this);\r\n\t\tprogram.args = args;\r\n\t\tthis.emit(new ProgramEvent('ProgramExec', program));\r\n\t}\r\n\r\n\t/**\r\n\t * Set a wallpaper to the WWM instance\r\n\t * @param {string} type \r\n\t * @param {string} value \r\n\t */\r\n\tsetWallpaper(type, value) {\r\n\t\tlet wp = new Wallpaper(type, value);\r\n\t\tif (Wallpaper.validate(wp)) {\r\n\t\t\tthis.emit(new WallpaperEvent('WallpaperChange', wp));\r\n\t\t}\r\n\t}\r\n}","import WWMEvent from '../events/WWMEvent';\r\n\r\n/**\r\n * The EventEmitter can emit events to subscribed EventListeners.\r\n */\r\nexport default class EventEmitter {\r\n\r\n\t/**\r\n\t * @param {EventListener[]|EventHandler[]} listeners \r\n\t */\r\n\tconstructor(listeners) {\r\n\t\tthis.listeners = listeners || [];\r\n\t}\r\n\r\n\t/**\r\n\t * Emit an event to listeners\r\n\t * @param {WWMEvent} event \r\n\t */\r\n\temit(event) {\r\n\t\tfor(let i = 0, len = this.listeners.length; i < len; ++i) {\r\n\t\t\tthis.listeners[i].trigger(event);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Subscribe a listener to the emitter\r\n\t * @param {EventListener|EventHandler} listener \r\n\t */\r\n\tsubscribe(listener) {\r\n\t\tif (this.listeners.indexOf(listener) <= -1) {\r\n\t\t\tthis.listeners.push(listener);\r\n\t\t}\r\n\t}\r\n}","import WWMEvent from '../events/WWMEvent';\r\n\r\n/**\r\n * The EventListener can receive events emitted by EventEmitters.\r\n */\r\nexport default class EventListener {\r\n\t\r\n\tconstructor() {\r\n\t\tthis.eventsCallbacks = {};\r\n\t}\r\n\r\n\t/**\r\n\t * Register a callback to an event\r\n\t * @param {string} name \r\n\t * @param {Function} callback \r\n\t */\r\n\ton(name, callback) {\r\n\t\tif (!this.eventsCallbacks[name]) this.eventsCallbacks[name] = {};\r\n\t\tthis.eventsCallbacks[name].on = callback;\r\n\t}\r\n\r\n\t/**\r\n\t * Register a callback that is triggered only the first time a specific event is received\r\n\t * @param {string} name \r\n\t * @param {Function} callback \r\n\t */\r\n\tonce(name, callback) {\r\n\t\tif (!this.eventsCallbacks[name]) this.eventsCallbacks[name] = {};\r\n\t\tthis.eventsCallbacks[name].once = callback;\r\n\t}\r\n\r\n\t/**\r\n\t * Triggers callbacks for a specific event\r\n\t * @param {WWMEvent} event \r\n\t */\r\n\ttrigger(event) {\r\n\t\tif (this.eventsCallbacks[event.name] && this.eventsCallbacks[event.name].once) {\r\n\t\t\tthis.eventsCallbacks[event.name].once(event);\r\n\t\t\tthis.eventsCallbacks[event.name].once = null;\r\n\t\t}\r\n\t\tif (this.eventsCallbacks[event.name] && this.eventsCallbacks[event.name].on)\r\n\t\t\tthis.eventsCallbacks[event.name].on(event);\r\n\t}\r\n}"],"names":["Wallpaper","[object Object]","type","value","this","wp","supported","indexOf","WWMEvent","name","EventHandler","listeners","eventsCallbacks","event","i","len","length","trigger","callback","on","once","listener","push","getRandomValues","crypto","bind","msCrypto","rnds8","Uint8Array","rng","Error","byteToHex","toString","substr","v4","options","buf","offset","rnds","random","start","bth","toLowerCase","bytesToUuid","ProgramEvent","program","super","Program","parent","subscribe","id","uuidv4","args","events","emit","end","WallpaperEvent","wallpaper","screen","screenStyle","getComputedStyle","element","width","height","performance","global","self","window","now","mozNow","msNow","oNow","webkitNow","navigator","product","WindowEvent","Window","size","bytes","byte","toUpperCase","nanoid","Object","assign","x","y","titlebar","visible","style","document","createElement","container","appendChild","__setupStyle","__setupEvents","classList","add","setStyles","position","top","left","template","innerHTML","setStyle","property","rules","entries","WWMWallpaper","wpType","wpValue","parentStyle","mainWindow","setWallpaper","e","resize","validate","WWM","tiling","querySelector","body","overflow","programs","__setupPrograms","main","addEventListener","ScreenEvent","exec","EventEmitter","EventListener"],"mappings":"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"}